buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        components {
            all { details -> 
                attributes {
                    attribute Attribute.of('org.netflix.internal.statusScheme', String), details.statusScheme.join(',')
                } 
            }
        }
        classpath 'junit:junit:4.12'
    }
}

apply plugin: 'java'

repositories {
    mavenCentral()
}

dependencies {
    compile 'junit:junit:4.12'
}

task printAttributes {
    doFirst {
        configurations.compile.incoming.resolutionResult.allDependencies.each {
            println "${it.selected.id} ${it.selected.variant.attributes}"
        }
    }
}